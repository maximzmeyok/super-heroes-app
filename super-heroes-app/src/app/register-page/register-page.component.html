<section class="register-page">
  <form class="form" [formGroup]="form" (ngSubmit)="submit()">
    <h1>Create New Account</h1>
  
    <div
      class="form-control"
      [ngClass]="{invalid: getForm('username').touched && getForm('username').invalid}"
    >
      <label for="username">Username:</label>
      <input type="text" id="username" autocomplete="on" formControlName="username" placeholder="Enter your username here">
      <div
        *ngIf="getForm('username').touched && getForm('username').invalid"
        class="form-validation"
      >
        <p *ngIf="getForm('username').errors.required">Enter your username.</p>
        <p *ngIf="getForm('username').errors.minlength && !getForm('username').errors.required">
          Username length should be at least {{getForm('username').errors.minlength.requiredLength}}. Current length is {{getForm('username').errors.minlength.actualLength}}.
        </p>
        <p *ngIf="getForm('username').errors.invalidUsername && !getForm('username').errors.required">Enter a valid username.</p>
      </div>
    </div>
  
    <div
      class="form-control"
      [ngClass]="{invalid: isTouchedInvalidForm('email')}"
    >
      <label for="email">Email:</label>
      <input type="text" id="email" autocomplete="on" formControlName="email" placeholder="Enter your email here">
      <div
        *ngIf="isTouchedInvalidForm('email')"
        class="form-validation"
      >
        <p *ngIf="isEmptyForm('email')">Enter your Email.</p>
        <p *ngIf="isInvalidEmail('email') && !isEmptyForm('email')">Enter a valid Email.</p>
        <p *ngIf="isNotUniqueEmail('email') && !isEmptyForm('email')">This Email already exists. Enter a unique Email.</p>
      </div>
    </div>
  
    <div
      class="form-control"
      [ngClass]="{invalid: isTouchedInvalidForm('password')}"
    >
      <label for="password">Password:</label>
      <input type="password" id="password" formControlName="password" placeholder="Enter your password here">
      <div
        *ngIf="isTouchedInvalidForm('password')"
        class="form-validation"
      >
        <p *ngIf="isEmptyForm('password')">Enter your password.</p>
        <p *ngIf="isSmallLength('password') && !isEmptyForm('password')">
          Password length should be at least {{getRequiredLength('password')}}. Current length is {{getActualLength('password')}}.
        </p>
        <p *ngIf="isInvalidPassword('password') && !isEmptyForm('password')">Enter a valid password.</p>
      </div>
    </div>

    <button type="submit" class="button" [disabled]="form.invalid">Create new account</button>

    <a [routerLink]="['/', 'sign-in']" class="button">Sign In</a>
  </form>
</section>